[
  {
      "id": "_pb_users_auth_",
      "name": "users",
      "type": "auth",
      "system": false,
      "schema": [
          {
              "id": "users_name",
              "name": "name",
              "type": "text",
              "system": false,
              "required": false,
              "unique": false,
              "options": {
                  "min": null,
                  "max": null,
                  "pattern": ""
              }
          }
      ],
      "listRule": "id = @request.auth.id",
      "viewRule": "id = @request.auth.id",
      "createRule": "",
      "updateRule": "id = @request.auth.id",
      "deleteRule": "id = @request.auth.id",
      "options": {
          "allowEmailAuth": true,
          "allowOAuth2Auth": true,
          "allowUsernameAuth": true,
          "exceptEmailDomains": null,
          "manageRule": null,
          "minPasswordLength": 8,
          "onlyEmailDomains": null,
          "requireEmail": false
      }
  },
  {
      "id": "3y4tkzvojhcp7e7",
      "name": "tasks",
      "type": "base",
      "system": false,
      "schema": [
          {
              "id": "msxyu9fp",
              "name": "task",
              "type": "text",
              "system": false,
              "required": true,
              "unique": false,
              "options": {
                  "min": null,
                  "max": null,
                  "pattern": ""
              }
          },
          {
              "id": "ilnqb0x8",
              "name": "group_id",
              "type": "relation",
              "system": false,
              "required": true,
              "unique": false,
              "options": {
                  "collectionId": "ztjz3clmceaz65o",
                  "cascadeDelete": true,
                  "minSelect": null,
                  "maxSelect": 1,
                  "displayFields": [
                      "id"
                  ]
              }
          },
          {
              "id": "bzypepdm",
              "name": "due_date",
              "type": "date",
              "system": false,
              "required": false,
              "unique": false,
              "options": {
                  "min": "",
                  "max": ""
              }
          },
          {
              "id": "fb2adyfp",
              "name": "completed",
              "type": "bool",
              "system": false,
              "required": false,
              "unique": false,
              "options": {}
          },
          {
              "id": "foumvhgg",
              "name": "description",
              "type": "text",
              "system": false,
              "required": false,
              "unique": false,
              "options": {
                  "min": null,
                  "max": null,
                  "pattern": ""
              }
          },
          {
              "id": "576qzsfv",
              "name": "father",
              "type": "relation",
              "system": false,
              "required": false,
              "unique": false,
              "options": {
                  "collectionId": "3y4tkzvojhcp7e7",
                  "cascadeDelete": true,
                  "minSelect": null,
                  "maxSelect": 1,
                  "displayFields": [
                      "id"
                  ]
              }
          }
      ],
      "listRule": "@request.auth.id = group_id.author.id",
      "viewRule": "@request.auth.id = group_id.author.id",
      "createRule": "@request.auth.id = @request.data.group_id.author.id",
      "updateRule": "@request.auth.id = group_id.author.id",
      "deleteRule": "@request.auth.id = group_id.author.id",
      "options": {}
  },
  {
      "id": "ztjz3clmceaz65o",
      "name": "task_groups",
      "type": "base",
      "system": false,
      "schema": [
          {
              "id": "thvrm2bh",
              "name": "group_name",
              "type": "text",
              "system": false,
              "required": true,
              "unique": false,
              "options": {
                  "min": null,
                  "max": null,
                  "pattern": ""
              }
          },
          {
              "id": "t8adobge",
              "name": "author",
              "type": "relation",
              "system": false,
              "required": true,
              "unique": false,
              "options": {
                  "collectionId": "_pb_users_auth_",
                  "cascadeDelete": true,
                  "minSelect": null,
                  "maxSelect": 1,
                  "displayFields": [
                      "id",
                      "email"
                  ]
              }
          }
      ],
      "listRule": "@request.auth.id = author",
      "viewRule": "@request.auth.id = author",
      "createRule": "@request.auth.id = @request.data.author.id",
      "updateRule": "@request.auth.id = author",
      "deleteRule": "@request.auth.id = author",
      "options": {}
  },
  {
      "id": "uh9cb6ucb6x9jkf",
      "name": "task_group",
      "type": "view",
      "system": false,
      "schema": [
          {
              "id": "thvrm2bh",
              "name": "group_name",
              "type": "text",
              "system": false,
              "required": true,
              "unique": false,
              "options": {
                  "min": null,
                  "max": null,
                  "pattern": ""
              }
          },
          {
              "id": "t8adobge",
              "name": "author",
              "type": "relation",
              "system": false,
              "required": true,
              "unique": false,
              "options": {
                  "collectionId": "_pb_users_auth_",
                  "cascadeDelete": true,
                  "minSelect": null,
                  "maxSelect": 1,
                  "displayFields": [
                      "id",
                      "email"
                  ]
              }
          },
          {
              "id": "ec8umhea",
              "name": "currentTasks",
              "type": "number",
              "system": false,
              "required": false,
              "unique": false,
              "options": {
                  "min": null,
                  "max": null
              }
          },
          {
              "id": "yhav8ivk",
              "name": "completedTasks",
              "type": "number",
              "system": false,
              "required": false,
              "unique": false,
              "options": {
                  "min": null,
                  "max": null
              }
          }
      ],
      "listRule": "@request.auth.id = author",
      "viewRule": "@request.auth.id = author",
      "createRule": null,
      "updateRule": null,
      "deleteRule": null,
      "options": {
          "query": "SELECT\n    task_groups.id,\n    task_groups.group_name,\n    task_groups.author,\n    count(tasks.id) as currentTasks,\n    count(IIF(tasks.completed = TRUE, 1, NULL)) as completedTasks\nFROM task_groups\nLEFT JOIN tasks ON tasks.group_id = task_groups.id AND (tasks.father = '' OR tasks.father = NULL)\nGROUP BY task_groups.id\nORDER BY task_groups.created"
      }
  },
  {
      "id": "rpmfzvjem0vg6x2",
      "name": "task",
      "type": "view",
      "system": false,
      "schema": [
          {
              "id": "msxyu9fp",
              "name": "task",
              "type": "text",
              "system": false,
              "required": true,
              "unique": false,
              "options": {
                  "min": null,
                  "max": null,
                  "pattern": ""
              }
          },
          {
              "id": "foumvhgg",
              "name": "description",
              "type": "text",
              "system": false,
              "required": false,
              "unique": false,
              "options": {
                  "min": null,
                  "max": null,
                  "pattern": ""
              }
          },
          {
              "id": "bzypepdm",
              "name": "due_date",
              "type": "date",
              "system": false,
              "required": false,
              "unique": false,
              "options": {
                  "min": "",
                  "max": ""
              }
          },
          {
              "id": "fb2adyfp",
              "name": "completed",
              "type": "bool",
              "system": false,
              "required": false,
              "unique": false,
              "options": {}
          },
          {
              "id": "ilnqb0x8",
              "name": "group_id",
              "type": "relation",
              "system": false,
              "required": true,
              "unique": false,
              "options": {
                  "collectionId": "ztjz3clmceaz65o",
                  "cascadeDelete": true,
                  "minSelect": null,
                  "maxSelect": 1,
                  "displayFields": [
                      "id"
                  ]
              }
          },
          {
              "id": "nityvujz",
              "name": "subTasks",
              "type": "number",
              "system": false,
              "required": false,
              "unique": false,
              "options": {
                  "min": null,
                  "max": null
              }
          },
          {
              "id": "lahtsat6",
              "name": "completedSubTasks",
              "type": "number",
              "system": false,
              "required": false,
              "unique": false,
              "options": {
                  "min": null,
                  "max": null
              }
          }
      ],
      "listRule": "@request.auth.id = group_id.author",
      "viewRule": "@request.auth.id = group_id.author",
      "createRule": null,
      "updateRule": null,
      "deleteRule": null,
      "options": {
          "query": "SELECT\n    A.id,\n    A.task,\n    A.description,\n    A.due_date,\n    A.completed,\n    A.group_id,\n    count(B.id) as subTasks,\n    count(IIF(B.completed = TRUE, 1, NULL)) as completedSubTasks\nFROM tasks as A\nLEFT JOIN tasks as B ON B.father = A.id\nWHERE A.father = '' OR A.father = NULL\nGROUP BY A.id\nORDER BY A.created"
      }
  }
]